<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>3ì›” íŠ¹ìƒˆ ì±Œë¦°ì§€ - ì¹´ë“œ ë’¤ì§‘ê¸°</title>
    <style>
        /* 1. ê¸°ë³¸ ìŠ¤íƒ€ì¼ */
        body {
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            background-color: #f0f4f8; /* ì°¨ë¶„í•œ ë°°ê²½ìƒ‰ */
            font-family: 'Pretendard', sans-serif;
        }

        /* 2. ìƒë‹¨ ì •ë³´ì°½ (íƒ€ì´ë¨¸) */
        .info-bar {
            margin-bottom: 20px;
            font-size: 1.5rem;
            font-weight: bold;
            color: #333;
            background: white;
            padding: 10px 30px;
            border-radius: 50px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        span#timer {
            color: #d32f2f; /* ê°•ì¡°ìƒ‰ */
            font-family: monospace;
        }

        /* 3. ê²Œì„ ë³´ë“œ (5ì—´ 4í–‰ ê·¸ë¦¬ë“œ) */
        .game-board {
            display: grid;
            grid-template-columns: repeat(5, 1fr); /* 5ì—´ */
            gap: 10px;
            width: 90%;
            max-width: 600px;
            perspective: 1000px; /* 3D íš¨ê³¼ ì›ê·¼ê° */
        }

        /* 4. ì¹´ë“œ ìŠ¤íƒ€ì¼ */
        .card {
            background-color: transparent;
            aspect-ratio: 3 / 4; /* ì¹´ë“œ ë¹„ìœ¨ */
            cursor: pointer;
            position: relative;
            transform-style: preserve-3d;
            transition: transform 0.5s;
        }

        /* ì¹´ë“œê°€ ë’¤ì§‘í˜”ì„ ë•Œ */
        .card.flip {
            transform: rotateY(180deg);
        }

        /* ì¹´ë“œ ì•/ë’·ë©´ ê³µí†µ */
        .card-face {
            position: absolute;
            width: 100%;
            height: 100%;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2.5rem;
            backface-visibility: hidden; /* ë’·ë©´ ìˆ¨ê¹€ */
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        /* ì¹´ë“œ ë’·ë©´ (íŒ¨í„´) */
        .card-back {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            font-size: 1.2rem;
            transform: rotateY(0deg);
        }
        .card-back::after {
            content: "?"; /* ë’·ë©´ ë¬´ëŠ¬ */
            font-weight: bold;
            opacity: 0.5;
        }

        /* ì¹´ë“œ ì•ë©´ (ì´ëª¨ì§€/ì´ë¯¸ì§€) */
        .card-front {
            background-color: white;
            transform: rotateY(180deg);
            border: 2px solid #764ba2;
        }
    </style>
</head>
<body>

    <div class="info-bar">
        â±ï¸ ì†Œìš” ì‹œê°„: <span id="timer">00.00</span>ì´ˆ
    </div>

    <div class="game-board" id="gameBoard">
        </div>

    <script>
        // 1. ê²Œì„ ì„¤ì • ë°ì´í„° (10ìŒì˜ ì´ëª¨ì§€)
        // ë‚˜ì¤‘ì— êµíšŒ ë¡œê³ ë‚˜ ê´€ë ¨ ì´ë¯¸ì§€ë¡œ êµì²´ ê°€ëŠ¥í•©ë‹ˆë‹¤.
        const cardIcons = [
            'ğŸ™', 'ğŸ™', // ê¸°ë„
            'ğŸ“–', 'ğŸ“–', // ì„±ê²½
            'â›ª', 'â›ª', // êµíšŒ
            'ğŸ•Šï¸', 'ğŸ•Šï¸', // í‰í™”/ë¹„ë‘˜ê¸°
            'â¤ï¸', 'â¤ï¸', // ì‚¬ë‘
            'ğŸ•¯ï¸', 'ğŸ•¯ï¸', // ì´›ë¶ˆ
            'ğŸ', 'ğŸ', // ë–¡
            'ğŸ·', 'ğŸ·', // ì”
            'ğŸ', 'ğŸ', // ì„ ë¬¼
            'ğŸ‘‘', 'ğŸ‘‘'  // ë©´ë¥˜ê´€
        ];

        const board = document.getElementById('gameBoard');
        const timerElement = document.getElementById('timer');
        
        let cards = []; // ìƒì„±ëœ ì¹´ë“œ ìš”ì†Œë“¤
        let hasFlippedCard = false;
        let lockBoard = false; // ì¹´ë“œ ë‘ ì¥ ë’¤ì§‘ì—ˆì„ ë•Œ í´ë¦­ ë°©ì§€
        let firstCard, secondCard;
        let matchCount = 0; // ì°¾ì€ ì§ ê°œìˆ˜
        
        // íƒ€ì´ë¨¸ ê´€ë ¨ ë³€ìˆ˜
        let startTime;
        let timerInterval;
        let isGameStarted = false;

        // 2. ì¹´ë“œ ì„ê¸° (Fisher-Yates Shuffle)
        function shuffle(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }

        // 3. ê²Œì„ ì´ˆê¸°í™” ë° ë³´ë“œ ìƒì„±
        function initGame() {
            const shuffledIcons = shuffle([...cardIcons]); // ë°°ì—´ ë³µì‚¬ í›„ ì„ê¸°
            
            shuffledIcons.forEach(icon => {
                // HTML êµ¬ì¡° ìƒì„±
                const card = document.createElement('div');
                card.classList.add('card');
                card.dataset.icon = icon; // ë§¤ì¹­ í™•ì¸ìš© ë°ì´í„°

                card.innerHTML = `
                    <div class="card-face card-front">${icon}</div>
                    <div class="card-face card-back"></div>
                `;

                card.addEventListener('click', flipCard);
                board.appendChild(card);
            });
        }

        // 4. íƒ€ì´ë¨¸ ì‹œì‘ í•¨ìˆ˜
        function startTimer() {
            if (isGameStarted) return;
            isGameStarted = true;
            startTime = Date.now();
            timerInterval = setInterval(() => {
                const elapsedTime = (Date.now() - startTime) / 1000;
                timerElement.innerText = elapsedTime.toFixed(2);
            }, 10);
        }

        // 5. ì¹´ë“œ ë’¤ì§‘ê¸° ë¡œì§
        function flipCard() {
            if (!isGameStarted) startTimer(); // ì²« í´ë¦­ ì‹œ íƒ€ì´ë¨¸ ì‹œì‘
            if (lockBoard) return;
            if (this === firstCard) return; // ê°™ì€ ì¹´ë“œ ë‘ ë²ˆ í´ë¦­ ë°©ì§€

            this.classList.add('flip');

            if (!hasFlippedCard) {
                // ì²« ë²ˆì§¸ ì¹´ë“œ í´ë¦­
                hasFlippedCard = true;
                firstCard = this;
                return;
            }

            // ë‘ ë²ˆì§¸ ì¹´ë“œ í´ë¦­
            secondCard = this;
            checkForMatch();
        }

        // 6. ë§¤ì¹­ í™•ì¸ ë¡œì§
        function checkForMatch() {
            let isMatch = firstCard.dataset.icon === secondCard.dataset.icon;

            isMatch ? disableCards() : unflipCards();
        }

        // ë§¤ì¹­ ì„±ê³µ ì‹œ
        function disableCards() {
            firstCard.removeEventListener('click', flipCard);
            secondCard.removeEventListener('click', flipCard);

            matchCount++;
            resetBoard();

            // ê²Œì„ ì¢…ë£Œ ì²´í¬ (10ìŒ ëª¨ë‘ ì°¾ìŒ)
            if (matchCount === 10) {
                clearInterval(timerInterval);
                setTimeout(() => {
                    alert(`ğŸ‰ ì¶•í•˜í•©ë‹ˆë‹¤!\nê¸°ë¡: ${timerElement.innerText}ì´ˆ\n\nì´ ê¸°ë¡ì„ ìº¡ì²˜í•´ì„œ ì¸ì¦í•´ì£¼ì„¸ìš”!`);
                }, 500);
            }
        }

        // ë§¤ì¹­ ì‹¤íŒ¨ ì‹œ (ë‹¤ì‹œ ë’¤ì§‘ê¸°)
        function unflipCards() {
            lockBoard = true; // ë‹¤ë¥¸ ì¹´ë“œ í´ë¦­ ê¸ˆì§€

            setTimeout(() => {
                firstCard.classList.remove('flip');
                secondCard.classList.remove('flip');
                resetBoard();
            }, 1000); // 1ì´ˆ ë’¤ì— ì›ìƒë³µêµ¬
        }

        // ë³´ë“œ ìƒíƒœ ì´ˆê¸°í™”
        function resetBoard() {
            [hasFlippedCard, lockBoard] = [false, false];
            [firstCard, secondCard] = [null, null];
        }

        // ê²Œì„ ì‹¤í–‰
        initGame();

    </script>
</body>
</html>
